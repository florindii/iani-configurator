/**
 * Iani 3D Configurator - Theme Extension Styles
 * Base styles that complement the inline styles in the Liquid block
 */

/* Reset and base */
.iani-configurator-wrapper,
.iani-configurator-wrapper * {
  box-sizing: border-box;
}

/* Iframe styles - always visible */
.iani-configurator-iframe {
  opacity: 1 !important;
  width: 100% !important;
  height: 100% !important;
  border: none !important;
  display: block !important;
}

/* Loading animation enhancement */
.iani-loading {
  background: linear-gradient(135deg, rgba(0,0,0,0.02) 0%, rgba(0,0,0,0.05) 100%);
}

/* Focus states for accessibility */
.iani-modal-trigger:focus,
.iani-modal-close:focus,
.iani-fullscreen-trigger:focus,
.iani-retry-button:focus {
  outline: 2px solid currentColor;
  outline-offset: 2px;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .iani-modal-trigger,
  .iani-retry-button {
    border: 2px solid currentColor;
  }

  .iani-loading-spinner {
    border-width: 4px;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .iani-loading-spinner {
    animation: none;
    border-top-color: transparent;
  }

  .iani-configurator-iframe {
    transition: none;
  }

  .iani-modal-overlay {
    transition: none;
  }
}

/* Print styles */
@media print {
  .iani-configurator-wrapper {
    display: none;
  }
}

/* Dark mode support (if theme supports it) */
@media (prefers-color-scheme: dark) {
  .iani-configurator-wrapper {
    /* These can be overridden by block settings */
  }
}

/* Touch device optimizations */
@media (hover: none) and (pointer: coarse) {
  .iani-modal-trigger,
  .iani-fullscreen-trigger,
  .iani-modal-close {
    min-height: 44px;
    min-width: 44px;
  }
}

/* Landscape mobile */
@media (max-height: 500px) and (orientation: landscape) {
  .iani-modal-content {
    height: 100vh;
    max-height: 100vh;
  }
}

/* Very small screens */
@media (max-width: 320px) {
  .iani-modal-trigger {
    padding: 10px 16px;
    font-size: 14px;
  }

  .iani-modal-trigger-icon {
    width: 16px;
    height: 16px;
  }
}

/* Ensure proper stacking in themes */
.iani-modal-overlay {
  isolation: isolate;
}

/* Safari-specific fixes */
@supports (-webkit-touch-callout: none) {
  .iani-configurator-iframe {
    -webkit-overflow-scrolling: touch;
  }
}
